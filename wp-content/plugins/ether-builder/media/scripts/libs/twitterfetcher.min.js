/*********************************************************************
*  #### Twitter Post Fetcher v11.0 ####
*  Coded by Jason Mayes 2013. A present to all the developers out there.
*  www.jasonmayes.com
*  Please keep this disclaimer with my code if you use it. Thanks. :-)
*  Got feedback or questions, ask here: 
*  http://www.jasonmayes.com/projects/twitterApi/
*  Github: https://github.com/jasonmayes/Twitter-Post-Fetcher
*  Updates will be posted to this site.
*********************************************************************/
var twitterFetcher=function(){function h(e,t){if(l==null){var n=e.length;var r=0;var i=document.getElementById(t);var s="<ul>";while(r<n){s+="<li>"+e[r]+"</li>";r++}s+="</ul>";i.innerHTML=s}else{l(e,t)}}function p(e){return e.replace(/<b[^>]*>(.*?)<\/b>/gi,function(e,t){return t}).replace(/class=".*?"|data-query-source=".*?"|dir=".*?"|rel=".*?"/gi,"")}function d(e,t){var n=[];var r=new RegExp("(^| )"+t+"( |$)");var i=e.getElementsByTagName("*");for(var s=0,o=i.length;s<o;s++){if(r.test(i[s].className)){n.push(i[s])}}return n}var e="";var t=20;var n=true;var r=[];var i=false;var s=true;var o=true;var u=null;var a=true;var f=true;var l=null;var c=true;return{fetch:function(a){if(a.maxTweets===undefined){a.maxTweets=20}if(a.enableLinks===undefined){a.enableLinks=true}if(a.showUser===undefined){a.showUser=true}if(a.showTime===undefined){a.showTime=true}if(a.dateFunction===undefined){a.dateFunction="default"}if(a.showRetweet===undefined){a.showRetweet=true}if(a.customCallback===undefined){a.customCallback=null}if(a.showInteraction===undefined){a.showInteraction=true}if(i){r.push(a)}else{i=true;e=a.domId;t=a.maxTweets;n=a.enableLinks;o=a.showUser;s=a.showTime;f=a.showRetweet;u=a.dateFunction;l=a.customCallback;c=a.showInteraction;var h=document.createElement("script");h.type="text/javascript";h.src="//cdn.syndication.twimg.com/widgets/timelines/"+a.id+"?&lang=en&callback=twitterFetcher.callback&"+"suppress_response_codes=true&rnd="+Math.random();document.getElementsByTagName("head")[0].appendChild(h)}},callback:function(l){var v=document.createElement("div");v.innerHTML=l.body;if(typeof v.getElementsByClassName==="undefined"){a=false}var m=[];var g=[];var y=[];var b=[];var w=[];var E=0;if(a){var S=v.getElementsByClassName("tweet");while(E<S.length){if(S[E].getElementsByClassName("retweet-credit").length>0){b.push(true)}else{b.push(false)}if(!b[E]||b[E]&&f){m.push(S[E].getElementsByClassName("e-entry-title")[0]);w.push(S[E].getAttribute("data-tweet-id"));g.push(S[E].getElementsByClassName("p-author")[0]);y.push(S[E].getElementsByClassName("dt-updated")[0])}E++}}else{var S=d(v,"tweet");while(E<S.length){m.push(d(S[E],"e-entry-title")[0]);w.push(S[E].getAttribute("data-tweet-id"));g.push(d(S[E],"p-author")[0]);y.push(d(S[E],"dt-updated")[0]);if(d(S[E],"retweet-credit").length>0){b.push(true)}else{b.push(false)}E++}}if(m.length>t){m.splice(t,m.length-t);g.splice(t,g.length-t);y.splice(t,y.length-t);b.splice(t,b.length-t)}var x=[];var E=m.length;var T=0;while(T<E){if(typeof u!=="string"){var N=new Date(y[T].getAttribute("datetime").replace(/-/g,"/").replace("T"," ").split("+")[0]);var C=u(N);y[T].setAttribute("aria-label",C);if(m[T].innerText){if(a){y[T].innerText=C}else{var k=document.createElement("p");var L=document.createTextNode(C);k.appendChild(L);k.setAttribute("aria-label",C);y[T]=k}}else{y[T].textContent=C}}var A="";if(n){if(o){A+='<div class="user">'+p(g[T].innerHTML)+"</div>"}A+='<p class="tweet">'+p(m[T].innerHTML)+"</p>";if(s){A+='<p class="timePosted">'+y[T].getAttribute("aria-label")+"</p>"}}else{if(m[T].innerText){if(o){A+='<p class="user">'+g[T].innerText+"</p>"}A+='<p class="tweet">'+m[T].innerText+"</p>";if(s){A+='<p class="timePosted">'+y[T].innerText+"</p>"}}else{if(o){A+='<p class="user">'+g[T].textContent+"</p>"}A+='<p class="tweet">'+m[T].textContent+"</p>";if(s){A+='<p class="timePosted">'+y[T].textContent+"</p>"}}}if(c){A+='<p class="interact"><a href="https://twitter.com/intent/'+"tweet?in_reply_to="+w[T]+'" class="twitter_reply_icon">'+'Reply</a><a href="https://twitter.com/intent/retweet?tweet_id='+w[T]+'" class="twitter_retweet_icon">Retweet</a>'+'<a href="https://twitter.com/intent/favorite?tweet_id='+w[T]+'" class="twitter_fav_icon">Favorite</a></p>'}x.push(A);T++}h(x,e);i=false;if(r.length>0){twitterFetcher.fetch(r[0]);r.splice(0,1)}}}}()